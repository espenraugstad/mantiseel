<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Presentation Creation</title>
    <style>
        .smallBox{
            border: 1px solid black;
            width: 50px;
            height: 50px;
        }
    </style>
</head>
<body>
    
    <div id="mainBox">
        <div id="typeSelector">
            <h3>Type:</h3>
            <div id="type1" class="smallBox">T1</div>
            <div id="type2" class="smallBox">T2</div>
            <div id="type3" class="smallBox">T3</div>
            <p id="selectedType">Slide type 1</p>
        </div>
        <div id="themeSelector">
            <h3>Theme:</h3>
            <div id="theme1" class="smallBox">Theme 1</div>
            <div id="theme2" class="smallBox">Theme 2</div>
            <p id="selectedTheme">Theme 1</p>
        </div>
        <div id="textSelector">
            <h3>Text:</h3>
            <textarea name="inputText" id="inputText" cols="30" rows="10"></textarea>
        </div>
        <div id="image">
            <h3>Image:</h3>
            <input type="file" id="imageInput" accept="image/*">
        </div>
    </div>
    <br>
    <button id="createSlide">Add slide</button>
    <br>
    <hr>
    
</body>
<script>
    /* DEFINERER ALLE VARIABLENE */

    //Henter alle types-knappene
    let type1 = document.getElementById('type1');
    let type2 = document.getElementById('type2');
    let type3 = document.getElementById('type3');
    let selectedType = document.getElementById('selectedType');

    //Henter alle themes knappene
    let theme1 = document.getElementById('theme1');
    let theme2 = document.getElementById('theme2');
    let selectedTheme = document.getElementById('selectedTheme');

    //Tekstfeltet
    let inputText = document.getElementById('inputText');

    //Bildet
    let imageInput = document.getElementById('imageInput');

    //Lag en slide
    let createSlide = document.getElementById('createSlide');

    //ID til en slide
    let slideID = 0;

    //Resten av properties til en slide
    let slideType = 0;
    let slideTheme = 0;
    let slideText = ''; //?
    let slideImage = '';

    /* Velg slide type */
    type1.addEventListener('click', ()=>{ slideType = 1; selectedType.innerText = 'Type 1';});
    type2.addEventListener('click', ()=>{ slideType = 2; selectedType.innerText = 'Type 2';});
    type3.addEventListener('click', ()=>{ slideType = 3; selectedType.innerText = 'Type 3';});

    /* Velg slide theme */
    theme1.addEventListener('click', ()=>{ slideTheme = 1; selectedTheme.innerText = 'Theme 1';});
    theme2.addEventListener('click', ()=>{ slideTheme = 2; selectedTheme.innerText = 'Theme 2';});

    /* Last opp bilde */
    imageInput.addEventListener('change', () => {
        let file = imageInput.files[0];
        
        let freader = new FileReader();
        freader.addEventListener('load', ()=>{
            slideImage = freader.result;
        });
        freader.readAsDataURL(file);
    })

    /* Lag en slide */
    createSlide.addEventListener('click', ()=>{
        let slide = {
            id: ++slideID,
            type: slideType,
            theme: slideTheme,
            text: inputText.value,
            image: slideImage
        }

        slideImage = '';

        //Send slide til serveren og legg til i databasen
        /* 
            createSlide(presentation_id, slide);
        */

    });


</script>
</html>